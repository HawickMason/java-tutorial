# Pattern方法

到目前为止，我们只使用测试工具来创建Pattern最基本的对象。本节探讨了先进的技术，例如使用标志创建模式并使用嵌入式标志表达式。它还探讨了一些尚未讨论的其他有用的方法。

## 用标志创建Pattern

在Pattern类定义的替代compile，它接受一组影响匹配的方式的标志方法。flags参数是一个位掩码，可以包含以下任何公共静态字段：

* `Pattern.CANON_EQ` 
    
    启用规范等价。指定此标志后，当且仅当其完整规范分解匹配时，两个字符才可视为匹配。例如，当指定此标志时，表达式 "a\u030A" 将与字符串 "\u00E5" 匹配。默认情况下，匹配不考虑采用规范等价。指定此标志可能会造成性能损失。
    
      
Pattern.CASE_INSENSITIVE启用不区分大小写的匹配。默认情况下，不区分大小写的匹配假定仅匹配US-ASCII字符集中的字符。可以通过与此标志一起指定UNICODE_CASE标志来启用Unicode感知不区分大小写的匹配。也可以通过嵌入式标志表达式启用不区分大小写的匹配(?i)。指定此标志可能会造成轻微的性能损失。
Pattern.COMMENTS允许空格和模式中的评论。在这种模式下，忽略空格，从而忽略嵌入的注释，#直到行尾。注释模式也可以通过嵌入式标志表达式启用(?x)。
Pattern.DOTALL启用点阵模式。在dotall模式下，表达式.匹配任何字符，包括行终止符。默认情况下，此表达式与行终止符不匹配。Dotall模式也可以通过嵌入式标志表达式启用(?s)。（s是“单行”模式的助记符，这在Perl中被称为）。
Pattern.LITERAL启用模式的文字解析。当指定此标志时，指定模式的输入字符串将被视为文字字符序列。输入序列中的元字符或转义序列将没有特殊意义。当与此标志一起使用时，标志CASE_INSENSITIVE并UNICODE_CASE保留对匹配的影响。其他旗帜变得多余。没有嵌入的标志字符用于启用文字解析。
Pattern.MULTILINE启用多行模式。在多行模式中，表达式^和$匹配恰好在之前或之前分别是行终止符或输入序列的结尾。默认情况下，这些表达式仅在整个输入序列的开头和结尾匹配。也可以通过嵌入式标志表达式启用多模式模式(?m)。
Pattern.UNICODE_CASE启用Unicode感知案例折叠。当指定此标志时，不区分大小写的匹配（由CASE_INSENSITIVE标志启用）以与Unicode标准一致的方式完成。默认情况下，不区分大小写的匹配假定仅匹配US-ASCII字符集中的字符。Unicode感知案例折叠也可以通过嵌入式标志表达式启用(?u)。指定此标志可能会造成性能损失。
Pattern.UNIX_LINES启用UNIX线路模式。在这种模式下，只有'\n'行结束在行为的认可.，^和$。UNIX线路模式也可以通过嵌入式标志表达式启用(?d)。